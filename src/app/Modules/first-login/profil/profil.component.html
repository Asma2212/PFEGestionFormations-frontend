

<div class="stepsdemo-content">
    <p-card>
        <ng-template pTemplate="title">
            Informations personelles
        </ng-template> 
        <ng-template pTemplate="subtitle">
            Entrez vos informations personelles
        </ng-template>
        <ng-template pTemplate="content">
<!--          <div class="col-12 md:col-6 lg:col-4">
            <span>cin</span>
             <p-inputNumber name="cin" id="cin" [(ngModel)]="formateur.username" mode="decimal" inputId="withoutgrouping" [useGrouping]="false" [maxlength]="8" placeholder="Numero de carte d'identité">
                        </p-inputNumber>  
        </div>-->
          <div class="field">
            <label for="cin">CIN</label>
            <div>
              <div class="p-inputgroup">
                  <span class="p-inputgroup-addon"><i class="pi pi-id-card"></i></span>
                  <p-inputNumber name="cin" id="cin" [(ngModel)]="formateur.username" mode="decimal" inputId="withoutgrouping" [useGrouping]="false" [maxlength]="8" placeholder="Numero de carte d'identité">
                  </p-inputNumber>  
               
                      
              </div>
              <small class="p-error" *ngIf="submitted && !formateur.username">cin est requis.</small>
              <small class="p-error" *ngIf="submitted && formateur.username.toString().length < 8">cin doit etre composer de 8 chiffres.</small>
          </div>
              
          </div><br>
          <div style="display: flex;">
            <div class="grid p-fluid"> 
              
          <div  class="col-12 md:col-6">
              <label for="nom">Nom</label>
              <div>
                <div class="p-inputgroup">
                     <span class="p-inputgroup-addon"><i class="pi pi-user"></i></span>
                    <input type="text" pInputText name="nom" id="nom" [(ngModel)]="formateur.lastName" required placeholder="nom" pattern="[a-zA-Z ]*" #name="ngModel"/> 
                </div>
            <small class="p-error block" *ngIf="!formateur.lastName.trim()">nom est requis.</small>
            <small class="p-error block" *ngIf="formateur.lastName && (name.invalid && (name.dirty || name.touched))">nom invalide.</small>
          </div></div>
          
          <div  class="col-12 md:col-6">
              <label for="prenom">Prenom</label>
              <div>
                <div class="p-inputgroup">
                    <span class="p-inputgroup-addon"><i class="pi pi-user"></i></span>
                    <input type="text" pInputText id="prenom" [(ngModel)]="formateur.firstName" required  placeholder="prenom" pattern="[a-zA-Z ]*" #firstName="ngModel"/>
                        
                </div>
            </div>
            <small class="p-error block" *ngIf="formateur.firstName && (firstName.invalid && firstName.dirty)">prenom invalide.</small>
              <small class="p-error" *ngIf="!formateur.firstName.trim()">prenom est requis.</small>
          </div></div>
        </div><br>
          <div class="field">
              <label for="email">Email</label>
              <div >
                <div class="p-inputgroup">
                    <span class="p-inputgroup-addon"><i class="pi pi-at"></i></span>
                    <input type="email"  pInputText id="email" [(ngModel)]="formateur.email" required placeholder="adresse e-mail" #email="ngModel" [email]="true"/>
                        
                </div>
                <small class="p-error" *ngIf="!formateur.email.trim()">email est requis.</small>
                <small class="p-error block" *ngIf="formateur.email && (email.invalid && email.dirty)"> adresse e-mail invalide.</small>
            </div>
              
              
          </div><br>
          <div class="grid p-fluid"> 
            <div  class="col-12 md:col-6">
            
              <label for="numTel">N° téléphone</label>
              <div >
              <div style="display: flex;">
              <span class="p-inputgroup-addon"><i class="pi pi-phone"></i></span>
                <p-inputMask mask="99-999-999" [(ngModel)]="formateur.numTel" placeholder="99-999-999" ></p-inputMask>
              </div>
                <small class="p-error" *ngIf="!formateur.numTel">num tel est requis.</small>
              </div> </div><br>
              <div  class="col-12 md:col-6">
            <label for="dateNaiss">Date de naissance</label>
            <div >
              <div class="p-inputgroup">
                  <span class="p-inputgroup-addon"><i class="pi pi-calendar"></i></span>
                  <p-calendar [(ngModel)]="date1"  [readonlyInput]="true" #dateNaiss="ngModel"></p-calendar>
                  <small class="p-error block" *ngIf="formateur.dateNaiss && (dateNaiss.invalid && dateNaiss.dirty)"> adresse e-mail invalide.</small>    
              </div>
              <small class="p-error" *ngIf="!date1">date naissance est requis.</small>
          </div>
              
             
        </div>
          </div><br>
        <div class="field">
         
          <div class="gender-details">
            <input type="radio" name="gender" id="dot-1" value="HOMME" [(ngModel)]="homme">
            <input type="radio" name="gender" id="dot-2" value="FEMME" [(ngModel)]="femme">
            <label for="gender">Genre</label>
            <div class="category">
              <label for="dot-1">
              <span class="dot one"></span>
              <span class="gender">&emsp;<i class="fa fa-solid fa-mars"></i> Homme </span>
            </label> 
            <label for="dot-2">
              <span class="dot two"></span>
              <span class="gender">&emsp;<i class="fa fa-solid fa-venus"></i> Femme </span>
            </label>
            </div>
          </div>
        </div>  
        <div class="grid p-fluid"> 
          <div  class="col-12 md:col-6" *ngIf="formateur.id == null && !autre "> 
          <div>
            <div style="display: flex;">
                <span class="p-inputgroup-addon"><i class="pi pi-building"></i></span>
                <p-multiSelect [options]="listEtablissement" [(ngModel)]="selectedEtablissement" [selectionLimit]="1" optionLabel="name" defaultLabel="Choisir l'etablissement" display="chip" (click)="selectEtab()">
                                        <ng-template let-etab pTemplate="item">
                                            <div style="display:flex;">
                                                <img src="../../../../assets/img/etablissement/{{etab.code}} " style="width: 25px; margin-right: 10px;margin-left: 5px;"/>
                                                <div>{{etab.name}}</div>
                                            </div>
                                        </ng-template>
                          </p-multiSelect>
            </div>
          </div>
          <small class="p-error" *ngIf="!formateur.etablissement">etablissement est requis.</small>
        </div>     
        <div class="col-12 md:col-6" *ngIf="formateur.id || autre">
          <div >
            <div style="display: flex;">
                <span class="p-inputgroup-addon"><i class="pi pi-building"></i></span>
                <input type="text" pInputText id="etab" [(ngModel)]="formateur.etablissement" required placeholder="saisi l'etablissement"/>
                    
            </div>
            <small class="p-error" *ngIf="!formateur.etablissement">etablissement est requis.</small>
        </div>
              
              
        </div>  

        <div class="col-12 md:col-6">
        <div >
          <div style="display: flex;">
              <span class="p-inputgroup-addon"><i class="pi pi-sitemap"></i></span>
            <p-multiSelect [options]="specialites" [(ngModel)]="formateur.lesSpecialites" defaultLabel="Select a specialite" optionLabel="titre" display="chip" [style]="{maxWidth: '200px'}"></p-multiSelect>
          </div>
            <small class="p-error" *ngIf="!formateur.lesSpecialites">specialité est requis.</small>
        </div></div>    </div><br>

        <div class="col-12 md:col-6">
                     
                      
          <label class = "label-file"><i class="pi pi-external-link"></i> Ajouter CV format PDF
            <input type="file" class="input-file" accept="application/pdf" (change)="selectFile($event)"/>
          </label>
          <div *ngIf="formateur.cv">
            <p>{{formateur.cv}}</p>
          </div>

          <button class="btn btn-success" [disabled]="!selectedFiles" (click)="upload()">
            Upload
          </button>
          <div *ngIf="currentFile" class="progress">
            <div
              class="progress-bar progress-bar-info progress-bar-striped"
              role="progressbar"
              attr.aria-valuenow="{{ progress }}"
              aria-valuemin="0"
              aria-valuemax="100"
              [ngStyle]="{ width: progress + '%' }">
              {{ progress }}%
            </div>
          </div>
          <div class="alert alert-light" role="alert" *ngIf="message != ''">{{ message }}</div>


            </div>

      </ng-template>
      <ng-template pTemplate="footer">
        <div class="grid grid-nogutter justify-content-end">
          <button pButton label="" (click)="nextPage()" icon="pi pi-arrow-right" iconPos="right" class="p-button-help p-button-outlined"></button>
        </div>
    </ng-template>
          </p-card>
      </div>